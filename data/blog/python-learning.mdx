---
title: 'Python 學習筆記'
date: '2025-09-01'
tags: ['Python']
draft: true
summary: '記錄一些 Python 學習的語法等筆記'
---

# 變數和資料型別

- 整數（Integer）：表示沒有小數點的數值。
- 浮點數（Float）：表示帶有小數點的數值。
- 字串（String）：表示文本，由字符組成，用引號（單引號或雙引號）括起來。
- 布林值（Boolean）：表示 True / False。

> [!NOTE]
> Python 是動態型別，變數沒有固定型別，可以隨時指向不同型別的物件
> Python 的 `float` 是對應到 Java 的 `Double`，都是 64-bit 雙精度浮點數。如果需要高精度浮點數，可以使用 `decimal.Decimal` 相對於 Java 的 `BigDecimal`

```python
x = 25            # Integer
x = 1.75          # Float
x = "Alice"       # String
x = True.         # Boolean

```

# Python 基本型別運算操作

## Numbers

```python
# 整數
x = 10
y = -3
type(x)  # <class 'int'>

# 浮點數
a = 3.14
b = -2.5
type(a)  # <class 'float'>
```

### 常用運算

| 運算符 | 說明             | 範例     | 結果   |
| ------ | ---------------- | -------- | ------ |
| `+`    | 加法             | 1 + 2    | 3      |
| `-`    | 減法             | 5 - 3    | 2      |
| `*`    | 乘法             | 3 \* 4   | 12     |
| `/`    | 除法（浮點結果） | 7 / 3    | 2.333… |
| `//`   | 整除             | 7 // 3   | 2      |
| `%`    | 取餘數           | 7 % 3    | 1      |
| `**`   | 次方             | 2 \*\* 3 | 8      |

### Python 常用函數操作

- `math.sqrt(x)`: 平方根
- `math.exp(x)`: 指數函數
- `numpy.float32(x)`：單精度浮點數
- `numpy.float64(x)`：雙精度浮點數

---

## String

```python
s = "Python"
print(s[0])   # P
print(s[-1])  # n
print(s[:3])  # Pyt
print(s[3:])  # hon
print("py" in s)  # True

# f-string
name = "Bob"
age = 30
print(f"My name is {name}, I am {age} years old")
```

---

## Boolean

```python
t = True
f = False

# 邏輯運算
print(t and f)  # False
print(t or f)   # True
print(not t)    # False
```

---

## None（空值）

```python
x = None
print(x is None)  # True
```

> [!NOTE]
> `None` 用於表示「沒有值」或「尚未設定」，類似於其他語言的 `Null`。

---

## 型別轉換方法

```python
x = "42"
y = int(x)       # 字串轉整數
z = float(x)     # 字串轉浮點數
s = str(123)     # 整數轉字串
```

## 基本的輸入輸出(Input/Output) 操作

```PYTHON
# 輸入
name = input("Enter your name: ")
age = int(input("Enter your age: "))

# 輸出
print(f"Hello {name}, next year you'll be {age + 1}")
```

# Python 位元運算

## 位元運算符（Bitwise Operators）

| 運算符 | 名稱 | 說明                 | 範例     | 結果 |
| ------ | ---- | -------------------- | -------- | ---- |
| `&`    | AND  | 對應位都為 1 → 1     | `5 & 3`  | `1`  |
| `\|`   | OR   | 對應位至少一個 1 → 1 | `5 \| 3` | `7`  |
| `^`    | XOR  | 對應位不同 → 1       | `5 ^ 3`  | `6`  |
| `~`    | NOT  | 取反 (二補數)        | `~5`     | `-6` |
| `<<`   | 左移 | 所有位向左移 n 位    | `5 << 1` | `10` |
| `>>`   | 右移 | 所有位向右移 n 位    | `5 >> 1` | `2`  |

### 位元運算示意

假設 8-bit 表示：

```python
5  = 00000101
3  = 00000011
```

**AND（&）：**

```python
  00000101
& 00000011
= 00000001   -> 1
```

**OR（|）：**

```python
  00000101
| 00000011
= 00000111   -> 7
```

**XOR（^）：**

```python
  00000101
^ 00000011
= 00000110 -> 6
```

**NOT（~）：**

```python
 ~00000101
= 11111010 -> -6 (Python 用補數表示)
```

**左移（\<\<）：**

```python
5 << 1
00000101 -> 00001010 -> 10
```

**右移（>>）：**

```python
5 >> 1
00000101 -> 00000010 -> 2
```

# 條件判斷（if / elif / else）

使用了 `if` 和 `else` 關鍵字，以及冒號（`:`）來表示條件語句的開始

當條件為 `True` 時，`if` 語句後面的程式碼會被執行；<br/>
否則，則執行 `else` 語句後面的程式碼。

另外，可使用 `elif` (即 else if) 來添加多個條件判斷

```python
x = 10
if x > 0:
    print("Positive")
elif x == 0:
    print("Zero")
else:
    print("Negative")
```

# 迴圈（for / while）

- 重複執行程式碼。
- 搭配 `range()`、`enumerate()`<br/>
- 使用 `break`、`continue` 來作為流程中斷控制

```python
for i in range(10):
    print(i)

count = 0
while count < 5:
    print(count)
    count += 1
```

## `range()`

range 有幾種寫法

- `range(stop)`：從 0 到 stop - 1
- `range(start, stop)`：從 start 到 stop - 1
- `range(start, stop, step)`：從 start 遞增/減到 stop - 1（不包含 stop），step 可以正負

## `enumerate()`

**功能：**

- enumerate() 可以在 迴圈中同時取得元素索引（index）和元素本身（value）。
- 用法比自己用 `range(len(...))` 更 Pythonic[^Pythonic]，也更安全。
  **範例：**

```python
fruits = ['apple', 'banana', 'cherry']

for i, fruit in enumerate(fruits):
    print(i, fruit)

# 輸出
# 0 apple
# 1 banana
# 2 cherry
```

- 指定**起始索引：**

```python
for i, fruit in enumerate(fruits, start=1):
    print(i, fruit)

# 輸出
# 1 apple
# 2 banana
# 3 cherry
```

> [!TIP]
> 如果你只需要索引：`for i, _ in enumerate(fruits)`<br/>
> 如果你只需要值：直接用 `for fruit in fruits` 就行。

[^Pythonic]: Pythonic: 這個詞用來形容使用符合 Python 設計理念、風格和語法習慣的程式碼，強調簡潔、易讀、高效且符合語言特性的寫法。

---

# 容器型別（Data Structures）

| 型別    | 說明       | 可變性 | 範例            |
| ------- | ---------- | ------ | --------------- |
| `list`  | 有序可重複 | 可變   | `[1,2,3]`       |
| `tuple` | 有序不可變 | 不可變 | `(1,2,3)`       |
| `set`   | 無序唯一   | 可變   | `{1,2,3}`       |
| `dict`  | 鍵值對     | 可變   | `{'a':1,'b':2}` |

## List（列表）

- **List：**有序、可變的元素集合
- 可以包含不同型別的元素

**語法：**

```python
lst = [1, 2, 3, "hello", True]
```

### 創建 List

```python
# 空 list
lst1 = []

# 含元素
lst2 = [1, 2, 3]

# 使用 list() 函式
lst3 = list(range(5))  # [0,1,2,3,4]

# 列表推導式
lst4 = [x**2 for x in range(5)]  # [0,1,4,9,16]
```

### 訪問元素

```python
lst = [10, 20, 30, 40]

print(lst[0])   # 10
print(lst[-1])  # 40

# 切片
print(lst[1:3])  # [20, 30]
print(lst[:2])   # [10, 20]
print(lst[2:])   # [30, 40]
print(lst[::2])  # [10, 30]  每隔 2 個取一個
```

### 新增與修改

```python
lst = [1, 2, 3]

# 修改
lst[0] = 10

# 新增
lst.append(4)       # 末尾新增
lst.insert(1, 15)   # 插入到指定位置
lst.extend([5,6])   # 合併另一個 list
```

### 刪除元素

```python
lst = [1, 2, 3, 4]

lst.pop()       # 刪除最後一個，返回值 4
lst.pop(1)      # 刪除索引 1，返回值 2
lst.remove(3)   # 刪除值為 3 的元素
lst.clear()     # 清空 list
```

### 搜尋與統計

```python
lst = [1, 2, 2, 3, 4]

2 in lst          # True
lst.index(3)      # 3 的索引位置
lst.count(2)      # 2 出現的次數
```

### 排序與反轉

```python
lst = [3,1,4,2]

lst.sort()              # 升序 [1,2,3,4]
lst.sort(reverse=True)  # 降序 [4,3,2,1]

lst.reverse()     # 反轉 [4,3,2,1]
```

### 遍歷 List

```python
lst = [10, 20, 30]

# for-each
for x in lst:
    print(x)

# 帶索引
for i, x in enumerate(lst):
    print(i, x)
```

### List 小技巧

**1. 列表推導式：快速生成 list**

```python
squares = [x**2 for x in range(5)]   # [0,1,4,9,16]
evens = [x for x in range(10) if x%2==0]  # [0,2,4,6,8]
```

**2. 多維 List：**

```python
matrix = [[1,2,3],[4,5,6],[7,8,9]]
print(matrix[1][2])  # 6
```

**3. 複製 List**

```python
lst2 = lst1.copy()       # 複製
lst3 = lst1[:]           # 切片複製
```

### List 常用方法

| 方法                            | 功能                                               | 範例                | 結果             |
| ------------------------------- | -------------------------------------------------- | ------------------- | ---------------- |
| `append(x)`                     | 在末尾新增元素                                     | `lst.append(3)`     | `[1,2,3]`        |
| `insert(i, x)`                  | 在指定索引插入元素                                 | `lst.insert(1, 10)` | `[1,10,2,3]`     |
| `extend(iterable)`              | 合併另一個 list 或可迭代對象                       | `lst.extend([4,5])` | `[1,10,2,3,4,5]` |
| `remove(x)`                     | 刪除第一個值為 x 的元素                            | `lst.remove(10)`    | `[1,2,3,4,5]`    |
| `pop([i])`                      | 刪除指定索引元素，返回該值；不傳參數則刪除最後一個 | `lst.pop(2)`        | `[1,2,4,5]`      |
| `clear()`                       | 清空 list                                          | `lst.clear()`       | `[]`             |
| `index(x, [start, [end]])`      | 查找元素 x 的索引                                  | `lst.index(4)`      | `3`              |
| `count(x)`                      | 計算元素 x 出現次數                                | `lst.count(2)`      | `1`              |
| `sort(reverse=False, key=None)` | 排序                                               | `lst.sort()`        | `[1,2,4,5]`      |
| `reverse()`                     | 反轉 list                                          | `lst.reverse()`     | `[5,4,2,1]`      |
| `copy()`                        | 複製 list（淺拷貝）                                | `lst2 = lst.copy()` | `[1,2,4,5]`      |

---

## Tuple（元組）

**Tuple（元組）：** 有序、不可變的序列

**特點：**

- 有序（可以用索引訪問）
- 不可變（不能修改元素）
- 可以包含不同型別元素
- 可以作為 dict 的 key

**語法：**

```python
t = (1, 2, 3)
```

### 創建 Tuple

```python
# 普通元組
t1 = (1, 2, 3)

# 單元素元組（必須加逗號）
t2 = (1,)

# 空元組
t3 = ()

# 使用 tuple() 函式
t4 = tuple([1, 2, 3])
```

### 訪問元素

```python
t = (10, 20, 30, 40)

print(t[0])   # 10
print(t[-1])  # 40

# 切片
print(t[1:3])  # (20, 30)
print(t[:2])   # (10, 20)
print(t[2:])   # (30, 40)
print(t[::2])  # (10, 30) 每隔 2 個取一個
```

### 解包（Unpacking）

```python
t = (1, 2, 3)
a, b, c = t
print(a, b, c)  # 1 2 3

# 星號解包
t = (1,2,3,4,5)
a, *b, c = t
print(a, b, c)  # 1 [2,3,4] 5
```

### 合併與重複

```python
t1 = (1, 2)
t2 = (3, 4)

# 合併
t3 = t1 + t2  # (1,2,3,4)

# 重複
t4 = t1 * 3   # (1,2,1,2,1,2)
```

### 迭代 Tuple

```python
t = (10, 20, 30)

for x in t:
    print(x)

for i, x in enumerate(t):
    print(i, x)
```

### 常用方法

| 方法       | 功能              | 範例               | 結果 |
| ---------- | ----------------- | ------------------ | ---- |
| `count(x)` | 計算 x 出現次數   | `(1,2,2).count(2)` | 2    |
| `index(x)` | 查找元素 x 的索引 | `(1,2,3).index(2)` | 1    |

> [!NOTE]
> Tuple 可用的方法比 List 少，因為不可變的特性，所以不會有新增、刪除、排序...等會變更元素的方法

### 小技巧

**1. 作為 dict 的 key**

```python
d = {(1,2): "value"}
print(d[(1,2)])  # value
```

**2. tuple 比 list 適合當固定資料或常數集合**

```python
colors = ("red", "green", "blue")
```

**3. 轉換**

```python
lst = [1,2,3]
t = tuple(lst)   # list -> tuple
lst2 = list(t)   # tuple -> list
```

---

## Set

---

## Dict (字典)

**字典（dict）**：鍵值對（key-value）集合

**特點：**

- key 必須是不可變類型（str、int、tuple 等）
- value 可以是任意類型
- 無序（Python 3.7+ 之後維持插入順序）

**語法：**

```python
d = {'key1': value1, 'key2': value2}
```

### 創建字典

```python
# 方法 1：使用大括號
d1 = {'a': 1, 'b': 2}

# 方法 2：使用 dict() 函式
d2 = dict(a=1, b=2)

# 方法 3：空字典後添加
d3 = {}
d3['a'] = 1
d3['b'] = 2
```

### 查詢

```python
d = {'a': 1, 'b': 2}

# 取值
print(d['a'])    # 1

# 使用 get() 避免 KeyError
print(d.get('c'))       # None
print(d.get('c', 0))    # 0，預設值

# 判斷 key 是否存在
print('a' in d)  # True
print('c' in d)  # False

# 取得所有的 keys
keys = d.keys()

# 取得所有的 values
values = d.values()

```

### 新增和修改

```python
d = {'a': 1, 'b': 2}

# 修改值
d['a'] = 10

# 新增鍵值對
d['c'] = 30
```

### 刪除

```python
d = {'a': 1, 'b': 2, 'c': 3}

# 使用 del
del d['b']

# 使用 pop() 並返回刪除值
val = d.pop('c')
print(val)  # 3

# 清空字典
d.clear()
```

### 迭代字典

```python
d = {'a': 1, 'b': 2, 'c': 3}

# 遍歷 key
for k in d:
    print(k)

# 遍歷 value
for v in d.values():
    print(v)

# 遍歷 key-value
for k, v in d.items():
    print(k, v)

```

### 常用方法

| 方法                   | 功能                                        |
| ---------------------- | ------------------------------------------- |
| `d.keys()`             | 返回所有 key                                |
| `d.values()`           | 返回所有 value                              |
| `d.items()`            | 返回所有 (key, value) 元組                  |
| `d.get(key, default)`  | 取值，key 不存在返回 default                |
| `d.pop(key)`           | 刪除 key，並返回 value                      |
| `d.popitem()`          | 刪除最後一個插入的鍵值對，返回 (key, value) |
| `d.update(other_dict)` | 合併另一個字典                              |
| `d.clear()`            | 清空字典                                    |
